{% extends "::layout/layout.html.twig" %}
{% block body %}
        <div class="container white col-lg-12 padder-t2 DivTitre">
            <h2 class="LigneTitre Titre"><span class="LigneSpan">Action réalisé</span></h2>
        </div>
        {% for action in actions %}
            <section class="col-lg-4 ActionRealise">
                <div class="pastAction">
                        <img  class ="pastActionImg" src="{{ asset(action.picture.path) }}">
                    <h4 class="TitreAction">{{ action.nom[:50] }}</h4>
                    <p class="DateAction">{{ action.dateDebut| date() }}</p>
                    <p class="DescriptionAction">{{ action.description[:150] }}...</p>
                    <div class="text{{ loop.index }}">
                        <p class="Titre LigneTitre LirePlusAction" style="padding: 10px"><span class="LigneSpan">Lire plus</span> </p>
                    </div>
                    {#<p>{{ action.dateFin| date() }}</p>#}
                    {#<p>{{ action.cout }}</p>#}
                    {#<p>{{ action.recolte }}</p>#}
                    {#<p>{{ action.type }}</p>#}
                </div>
            </section>
            {#<!-- Modal -->                                                          aria-labelledby="exampleModalLabel"#}
            <div class="modal fade" id="{{loop.index}}" tabindex="-1" role="dialog" aria-hidden="true" >
                <button type="button" class="close modalTextHomepage" data-dismiss="modal" aria-label="Close">
                    <span class="Retour" aria-hidden="true"> <i class="fa fa-arrow-left" aria-hidden="true"></i>Retour</span>
                </button>

                <div class="modal-dialog ModalAction" role="document">
                    <div class="ImageActionModal">
                       <img class="ImageHautActionModal" src="{{ asset(action.picture.path) }}">
                    </div>
                    <div class="modal-content">
                        <div class="modal-header col-xs-12 col-sm-12 col-md-12 col-lg-12">
                            <h3 class="Titre TitreModal"><span>{{ action.nom}}</span></h3>
                        </div>
                        <div class="modal-body TextModalHomepage">
                            <p class="DateActionModal">{{ action.dateDebut| date() }}</p>
                            {{ action.description }}
                            <p class="CoutActionModal">Coût de l'action : {{ action.cout }}</p>
                            <p class="CoutActionModal">Argent récolté : {{ action.recolte }}</p>
                        </div>
                        <div class="row CarouselModalAction">
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                                <div id="myCarousel" class="carousel slide col-xs-12 col-sm-12 col-md-12 col-lg-12 test7" data-ride="carousel">
                                    <!-- Indicators -->
                                    <ol class="carousel-indicators">
                                        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
                                        {% if not action.media.empty %}
                                        {% for media in action.media %}
                                            <li data-target="#myCarousel" data-slide-to="{{ loop.index }}"></li>
                                        {% endfor %}
                                        {% endif %}
                                    </ol>

                                    <!-- Wrapper for slides -->

                                    <div class="carousel-inner centrageD">
                                        <div class="item active" style="width: 100%;">
                                            <img class="ImageActionCarouselModal d-block img-fluid" src="{{ asset(action.picture.path) }}" alt="Los Angeles">
                                        </div>
                                        {% if not action.media.empty %}
                                            {% for media in action.media %}
                                                <div class="item" style="width: 100%;">
                                                    <img  class="ImageActionCarouselModal d-block img-fluid" src="{{ asset(media.path) }}">
                                                </div>
                                            {% endfor %}
                                        {% endif %}

                                    </div>

                                    <!-- Left and right controls -->
                                    <a class="left carousel-control" href="#myCarousel" data-slide="prev" style="background: none;">
                                        <span class="glyphicon glyphicon-chevron-left"></span>
                                        <span class="sr-only">Previous</span>
                                    </a>
                                    <a class="right carousel-control" href="#myCarousel" data-slide="next" style="background: none;">
                                        <span class="glyphicon glyphicon-chevron-right"></span>
                                        <span class="sr-only">Next</span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- !Modal! -->

            {% block javascripts %}
                {% for action in actions %}
                    <script type="text/javascript">
                        $(document).ready(function(){
                            $(".text{{ loop.index }}").click(function(){
                                $("#{{ loop.index }}").modal('show');
                            });
                        });
                    </script>
                {% endfor %}
            {% endblock %}
        {% endfor %}


{% endblock %}

